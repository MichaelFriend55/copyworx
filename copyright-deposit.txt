CopyWorx‚Ñ¢ Studio - Source Code Deposit
Copyright ¬© 2025 Michael Friend
AI-Powered Copywriting SaaS Platform
https://copyworx.io

U.S. Copyright Office Deposit Material
First 25 Pages + Last 25 Pages of Source Code

Technology Stack: Next.js 14, TypeScript, React, TailwindCSS, Supabase
Total Project Lines:
Total Files Included: 149
Total Lines of Code: 47733

CopyWorx‚Ñ¢ Studio - Complete Source Code
Generated on: 2026-02-04 14:02:21
For U.S. Copyright Office Registration


=== FILE: app/(app)/layout.tsx ===

/**
 * @file app/(app)/layout.tsx
 * @description Layout for authenticated app pages
 * 
 * Includes:
 * - Sidebar navigation
 * - Header with user info and UserButton
 * - Main content area
 */

import { UserButton } from '@clerk/nextjs';
import { currentUser } from '@clerk/nextjs/server';
import { Sidebar } from '@/components/layout/sidebar';
import { Bell } from 'lucide-react';
import { Button } from '@/components/ui/button';

/**
 * App layout component
 * 
 * Wraps all authenticated pages with the app sidebar and header.
 * Protected by Clerk middleware - only accessible to authenticated users.
 */
export default async function AppLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const user = await currentUser();

  return (
    <div className="flex h-screen overflow-hidden bg-ink-50">
      {/* Sidebar */}
      <Sidebar />
      
      {/* Main Content */}
      <div className="flex-1 flex flex-col overflow-hidden">
        {/* Header */}
        <header className="h-16 border-b border-border bg-white flex items-center justify-between px-6">
          <div>
            {/* Breadcrumb or search could go here */}
          </div>
          
          {/* User Section */}
          <div className="flex items-center gap-4">
            {/* Notifications Button */}
            <Button variant="ghost" size="icon" className="relative">
              <Bell className="h-5 w-5 text-ink-600" />
              <span className="absolute top-1 right-1 h-2 w-2 bg-amber-500 rounded-full" />
            </Button>
            
            {/* User Info */}
            <div className="hidden sm:flex items-center gap-3 pr-2 border-r border-border">
              <div className="text-right">
                <p className="text-sm font-medium text-ink-900">
                  {user?.firstName} {user?.lastName}
                </p>
                <p className="text-xs text-ink-500">
                  {user?.emailAddresses?.[0]?.emailAddress}
                </p>
              </div>
            </div>
            
            {/* User Button */}
            <UserButton 
              afterSignOutUrl="/"
              appearance={{
                elements: {
                  avatarBox: 'h-9 w-9',
                  userButtonPopoverCard: 'shadow-xl border border-border/50',
                  userButtonPopoverActionButton: 'hover:bg-ink-50',
                  userButtonPopoverActionButtonText: 'text-ink-700',
                  userButtonPopoverActionButtonIcon: 'text-ink-500',
                  userButtonPopoverFooter: 'hidden',
                },
              }}
            />
          </div>
        </header>
        
        {/* Page Content */}
        <main className="flex-1 overflow-y-auto p-6">
          {children}
        </main>
      </div>
    </div>
  );
}


=== FILE: app/(app)/projects/[projectId]/page.tsx ===

/**
 * @file app/(app)/projects/[projectId]/page.tsx
 * @description Dynamic project route that redirects to worxspace with specific project loaded
 * 
 * Purpose:
 * - Handles navigation from project cards
 * - Redirects /projects/[id] ‚Üí /worxspace?projectId=[id]
 * - Enables direct project linking and bookmarking
 * 
 * Security:
 * - Server-side redirect (no client-side exposure)
 * - Project access validated by workspace component
 * - Uses Next.js native redirect() for proper HTTP status codes
 */

import { redirect } from 'next/navigation';

/**
 * Props type for dynamic route params
 */
interface ProjectPageProps {
  params: {
    projectId: string;
  };
}

/**
 * Project page component
 * 
 * This is a minimal redirect component that:
 * 1. Receives the projectId from the URL path
 * 2. Redirects to the worxspace with the project loaded
 * 3. Allows the worxspace to handle all project logic
 * 
 * @param params - Dynamic route parameters containing projectId
 * @returns Never returns - redirects immediately
 */
export default function ProjectPage({ params }: ProjectPageProps) {
  // Validate projectId exists
  if (!params.projectId) {
    // If no projectId, redirect to worxspace without project
    redirect('/worxspace');
  }

  // Redirect to worxspace with project ID as query parameter
  redirect(`/worxspace?projectId=${params.projectId}`);
}


=== FILE: app/(app)/projects/page.tsx ===

/**
 * @file app/(app)/projects/page.tsx
 * @description Projects page - manage copywriting projects
 * 
 * Features:
 * - Project list with status
 * - Create new project
 * - Search and filter
 */

import type { Metadata } from 'next';
import Link from 'next/link';
import { 
  Search, 
  Plus, 
  MoreHorizontal, 
  FileText,
  Calendar,
  FolderOpen
} from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';

export const metadata: Metadata = {
  title: 'Projects',
  description: 'Manage your copywriting projects.',
};

/**
 * Project data (placeholder)
 */
const projects: Array<{
  id: string;
  name: string;
  description: string;
  template: string;
  status: string;
  wordCount: number;
  lastEdited: string;
  createdAt: string;
}> = [
  {
    id: '1',
    name: 'Q4 Email Campaign',
    description: 'Holiday season email marketing campaign for product launch',
    template: 'Email Sequence',
    status: 'In Progress',
    wordCount: 2450,
    lastEdited: '2 hours ago',
    createdAt: 'Dec 15, 2025',
  },
  {
    id: '2',
    name: 'Product Launch Landing Page',
    description: 'Main landing page for the new premium tier launch',
    template: 'Landing Page',
    status: 'Draft',
    wordCount: 850,
    lastEdited: '5 hours ago',
    createdAt: 'Dec 14, 2025',
  },
  {
    id: '3',
    name: 'Social Media Content Pack',
    description: 'January content calendar posts for all platforms',
    template: 'Social Posts',
    status: 'Completed',
    wordCount: 1200,
    lastEdited: '1 day ago',
    createdAt: 'Dec 10, 2025',
  },
  {
    id: '4',
    name: 'Blog Post Series',
    description: 'Educational content series about copywriting tips',
    template: 'Blog Post',
    status: 'In Progress',
    wordCount: 3400,
    lastEdited: '2 days ago',
    createdAt: 'Dec 8, 2025',
  },
  {
    id: '5',
    name: 'LinkedIn Outreach',
    description: 'Connection request and follow-up message templates',
    template: 'Cold Outreach',
    status: 'Completed',
    wordCount: 450,
    lastEdited: '3 days ago',
    createdAt: 'Dec 5, 2025',
  },
  {
    id: '6',
    name: 'Google Ads Campaign',
    description: 'PPC ad copy for Q1 marketing campaign',
    template: 'Google Ads',
    status: 'Draft',
    wordCount: 320,
    lastEdited: '4 days ago',
    createdAt: 'Dec 3, 2025',
  },
] as const;

/**
 * Get status badge variant
 */
function getStatusVariant(status: string): 'amber' | 'secondary' | 'outline' {
  switch (status) {
    case 'Completed':
      return 'amber';
    case 'In Progress':
      return 'secondary';
    default:
      return 'outline';
  }
}

/**
 * Projects page component
 */
export default function ProjectsPage() {
  return (
    <div className="space-y-8">
      {/* Header */}
      <div className="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
        <div>
          <h1 className="font-sans text-3xl font-bold text-ink-900">
            Projects
          </h1>
          <p className="text-ink-600 mt-1">
            Manage and organize your copywriting projects.
          </p>
        </div>
        <Button variant="amber" asChild>
          <Link href="/projects/new">
            <Plus className="h-4 w-4 mr-2" />
            New Project
          </Link>
        </Button>
      </div>

      {/* Search and Filters */}
      <div className="flex flex-col sm:flex-row gap-4">
        <div className="relative flex-1">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-ink-400" />
          <Input 
            placeholder="Search projects..." 
            className="pl-10"
          />
        </div>
        <div className="flex gap-2">
          <Button variant="outline" size="default">
            All Status
          </Button>
          <Button variant="outline" size="default">
            Sort by: Recent
          </Button>
        </div>
      </div>

      {/* Projects List */}
      <div className="space-y-4">
        {projects.map((project) => (
          <Card 
            key={project.id} 
            className="border-border/50 hover:shadow-md transition-shadow"
          >
            <CardContent className="p-6">
              <div className="flex flex-col lg:flex-row lg:items-center justify-between gap-4">
                {/* Project Info */}
                <div className="flex items-start gap-4 flex-1">
                  <div className="h-12 w-12 rounded-xl bg-ink-100 flex items-center justify-center shrink-0">
                    <FolderOpen className="h-6 w-6 text-ink-600" />
                  </div>
                  <div className="flex-1 min-w-0">
                    <div className="flex items-center gap-2 mb-1">
                      <Link 
                        href={`/projects/${project.id}`}
                        className="font-semibold text-ink-900 hover:text-amber-600 transition-colors truncate"
                      >
                        {project.name}
                      </Link>
                      <Badge variant={getStatusVariant(project.status)}>
                        {project.status}
                      </Badge>
                    </div>
                    <p className="text-sm text-ink-500 line-clamp-1 mb-2">
                      {project.description}
                    </p>
                    <div className="flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-ink-400">
                      <span className="flex items-center gap-1">
                        <FileText className="h-3.5 w-3.5" />
                        {project.template}
                      </span>
                      <span className="flex items-center gap-1">
                        <Calendar className="h-3.5 w-3.5" />
                        {project.createdAt}
                      </span>
                      <span>
                        {project.wordCount.toLocaleString()} words
                      </span>
                    </div>
                  </div>
                </div>

                {/* Actions */}
                <div className="flex items-center gap-2 lg:gap-4">
                  <span className="text-sm text-ink-500 whitespace-nowrap">
                    Edited {project.lastEdited}
                  </span>
                  <Button variant="ghost" size="sm" asChild>
                    <Link href={`/projects/${project.id}`}>
                      Open
                    </Link>
                  </Button>
                  <Button variant="ghost" size="icon" className="h-8 w-8">
                    <MoreHorizontal className="h-4 w-4" />
                  </Button>
                </div>
              </div>
            </CardContent>
          </Card>
        ))}
      </div>

      {/* Empty State (hidden when projects exist) */}
      {projects.length === 0 && (
        <Card className="border-dashed border-2 border-border">
          <CardContent className="py-12 text-center">
            <div className="h-16 w-16 rounded-full bg-ink-100 flex items-center justify-center mx-auto mb-4">
              <FolderOpen className="h-8 w-8 text-ink-400" />
            </div>
            <h3 className="font-sans text-lg font-semibold text-ink-900 mb-2">
              No projects yet
            </h3>
            <p className="text-ink-500 mb-6 max-w-sm mx-auto">
              Get started by creating your first copywriting project.
            </p>
            <Button variant="amber" asChild>
              <Link href="/projects/new">
                <Plus className="h-4 w-4 mr-2" />
                Create Project
              </Link>
            </Button>
          </CardContent>
        </Card>
      )}
    </div>
  );
}



=== FILE: app/(app)/templates/page.tsx ===

/**
 * @file app/(app)/templates/page.tsx
 * @description Templates page - browse and select copywriting templates
 * 
 * Features:
 * - Template categories
 * - Search and filter
 * - Template cards with previews
 */

import type { Metadata } from 'next';
import Link from 'next/link';
import { Search, Filter, ArrowRight } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';

export const metadata: Metadata = {
  title: 'Templates',
  description: 'Browse our collection of AI-powered copywriting templates.',
};

/**
 * Template categories
 */
const categories = [
  { id: 'all', name: 'All Templates', count: 50 },
  { id: 'email', name: 'Email', count: 12 },
  { id: 'landing', name: 'Landing Pages', count: 8 },
  { id: 'social', name: 'Social Media', count: 15 },
  { id: 'ads', name: 'Advertising', count: 10 },
  { id: 'website', name: 'Website Copy', count: 5 },
] as const;

/**
 * Template data (placeholder)
 */
const templates = [
  {
    id: '1',
    name: 'Email Welcome Sequence',
    description: 'A 5-part welcome email series to onboard new subscribers and build trust.',
    category: 'Email',
    popular: true,
    icon: '‚úâÔ∏è',
  },
  {
    id: '2',
    name: 'SaaS Landing Page',
    description: 'High-converting landing page copy for software products with benefit-driven headlines.',
    category: 'Landing Pages',
    popular: true,
    icon: 'üöÄ',
  },
  {
    id: '3',
    name: 'Facebook Ad Copy',
    description: 'Scroll-stopping Facebook ad copy with multiple hook variations.',
    category: 'Advertising',
    popular: false,
    icon: 'üì¢',
  },
  {
    id: '4',
    name: 'LinkedIn Post Series',
    description: 'Thought leadership posts optimized for LinkedIn engagement.',
    category: 'Social Media',
    popular: true,
    icon: 'üíº',
  },
  {
    id: '5',
    name: 'Product Description',
    description: 'Compelling product descriptions that highlight benefits and drive purchases.',
    category: 'Website Copy',
    popular: false,
    icon: 'üè∑Ô∏è',
  },
  {
    id: '6',
    name: 'Cold Email Outreach',
    description: 'Personalized cold email templates with proven open rate optimization.',
    category: 'Email',
    popular: true,
    icon: 'üéØ',
  },
  {
    id: '7',
    name: 'Twitter/X Thread',
    description: 'Viral-worthy Twitter threads that educate and engage your audience.',
    category: 'Social Media',
    popular: false,
    icon: 'üê¶',
  },
  {
    id: '8',
    name: 'Google Ads Copy',
    description: 'High-CTR Google Ads copy with keyword optimization.',
    category: 'Advertising',
    popular: false,
    icon: 'üîç',
  },
  {
    id: '9',
    name: 'About Page',
    description: 'Tell your brand story with compelling about page copy.',
    category: 'Website Copy',
    popular: false,
    icon: 'üìñ',
  },
] as const;

/**
 * Templates page component
 */
export default function TemplatesPage() {
  return (
    <div className="space-y-8">
      {/* Header */}
      <div>
        <h1 className="font-sans text-3xl font-bold text-ink-900">
          Templates
        </h1>
        <p className="text-ink-600 mt-1">
          Choose from 50+ AI-powered copywriting templates.
        </p>
      </div>

      {/* Search and Filter */}
      <div className="flex flex-col sm:flex-row gap-4">
        <div className="relative flex-1">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-ink-400" />
          <Input 
            placeholder="Search templates..." 
            className="pl-10"
          />
        </div>
        <Button variant="outline">
          <Filter className="h-4 w-4 mr-2" />
          Filter
        </Button>
      </div>

      {/* Categories */}
      <div className="flex flex-wrap gap-2">
        {categories.map((category) => (
          <button
            key={category.id}
            className={`
              px-4 py-2 rounded-full text-sm font-medium transition-colors
              ${category.id === 'all' 
                ? 'bg-ink-900 text-white' 
                : 'bg-white border border-border hover:bg-ink-50 text-ink-700'
              }
            `}
          >
            {category.name}
            <span className="ml-2 text-xs opacity-60">
              {category.count}
            </span>
          </button>
        ))}
      </div>

      {/* Templates Grid */}
      <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {templates.map((template) => (
          <Card 
            key={template.id} 
            className="border-border/50 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group"
          >
            <CardHeader>
              <div className="flex items-start justify-between">
                <div className="h-12 w-12 rounded-xl bg-amber-100 flex items-center justify-center text-2xl">
                  {template.icon}
                </div>
                {template.popular && (
                  <Badge variant="amber">Popular</Badge>
                )}
              </div>
              <CardTitle className="text-lg mt-4">{template.name}</CardTitle>
              <CardDescription className="line-clamp-2">
                {template.description}
              </CardDescription>
            </CardHeader>
            <CardContent>
              <Badge variant="secondary">{template.category}</Badge>
            </CardContent>
            <CardFooter>
              <Button 
                variant="ghost" 
                className="w-full group-hover:bg-amber-50 group-hover:text-amber-700"
                asChild
              >
                <Link href={`/templates/${template.id}`}>
                  Use Template
                  <ArrowRight className="h-4 w-4 ml-2" />
                </Link>
              </Button>
            </CardFooter>
          </Card>
        ))}
      </div>
    </div>
  );
}



=== FILE: app/(marketing)/about/page.tsx ===

/**
 * @file app/(marketing)/about/page.tsx
 * @description About page for CopyWorx
 * 
 * Sections:
 * - Hero with mission statement
 * - Company story
 * - Team values
 * - Stats section
 */

import type { Metadata } from 'next';
import { Badge } from '@/components/ui/badge';
import { Card, CardContent } from '@/components/ui/card';
import { 
  Heart, 
  Lightbulb, 
  Users, 
  Rocket,
  Target,
  Shield
} from 'lucide-react';

export const metadata: Metadata = {
  title: 'About',
  description: 'Learn about CopyWorx and our mission to help copywriters create better content faster.',
};

/**
 * Company values data
 */
const values = [
  {
    icon: Heart,
    title: 'Customer First',
    description: 'Everything we build starts with understanding and solving real problems for copywriters.',
  },
  {
    icon: Lightbulb,
    title: 'Innovation',
    description: 'We constantly push the boundaries of what AI can do for creative writing.',
  },
  {
    icon: Users,
    title: 'Community',
    description: 'We believe in the power of collaboration and learning from each other.',
  },
  {
    icon: Rocket,
    title: 'Excellence',
    description: 'We hold ourselves to the highest standards in everything we create.',
  },
  {
    icon: Target,
    title: 'Results-Driven',
    description: 'We measure success by the outcomes our users achieve with our tools.',
  },
  {
    icon: Shield,
    title: 'Trust & Privacy',
    description: 'Your content is yours. We never use your data to train our models.',
  },
] as const;

/**
 * Company stats data
 */
const stats = [
  { value: '10,000+', label: 'Active Users' },
  { value: '2M+', label: 'Words Generated' },
  { value: '50+', label: 'Templates' },
  { value: '98%', label: 'Customer Satisfaction' },
] as const;

/**
 * About page component
 */
export default function AboutPage() {
  return (
    <>
      {/* Hero Section */}
      <section className="relative overflow-hidden py-24 md:py-32">
        {/* Background */}
        <div className="absolute inset-0 bg-gradient-to-b from-ink-50/50 via-transparent to-transparent" />
        <div className="absolute inset-0 bg-dots opacity-30" />
        
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative">
          <div className="max-w-3xl mx-auto text-center">
            <Badge variant="secondary" className="mb-6">About Us</Badge>
            <h1 className="font-sans text-4xl md:text-5xl lg:text-6xl font-bold text-ink-900 mb-6">
              Empowering writers to create their best work
            </h1>
            <p className="text-lg md:text-xl text-ink-600 leading-relaxed">
              CopyWorx was founded with a simple mission: help copywriters and marketers 
              create compelling content that drives results, without the blank page anxiety.
            </p>
          </div>
        </div>
      </section>

      {/* Story Section */}
      <section className="py-24 md:py-32 bg-white">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            {/* Image Placeholder */}
            <div className="relative">
              <div className="aspect-square rounded-2xl bg-gradient-to-br from-amber-100 via-amber-50 to-ink-50 flex items-center justify-center">
                <div className="w-3/4 h-3/4 rounded-xl bg-white shadow-2xl flex items-center justify-center">
                  <span className="font-sans text-6xl text-ink-200">‚úçÔ∏è</span>
                </div>
              </div>
              {/* Decorative element */}
              <div className="absolute -bottom-6 -right-6 w-32 h-32 bg-amber-400 rounded-2xl -z-10" />
            </div>
            
            {/* Content */}
            <div>
              <Badge variant="amber" className="mb-4">Our Story</Badge>
              <h2 className="font-sans text-3xl md:text-4xl font-bold text-ink-900 mb-6">
                Built by copywriters, for copywriters
              </h2>
              <div className="space-y-4 text-ink-600 leading-relaxed">
                <p>
                  CopyWorx started in 2023 when our founders‚Äîexperienced copywriters 
                  themselves‚Äîrecognized a gap in the market. While AI writing tools existed, 
                  none truly understood the craft of copywriting.
                </p>
                <p>
                  We set out to build something different: an AI assistant that understands 
                  proven copywriting frameworks, conversion psychology, and brand voice. 
                  Not a replacement for human creativity, but a powerful amplifier of it.
                </p>
                <p>
                  Today, CopyWorx helps thousands of marketers and copywriters create 
                  better content faster. From startups to Fortune 500 companies, our users 
                  trust us to help them craft messages that resonate and convert.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Stats Section */}
      <section className="py-16 bg-ink-950">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
            {stats.map((stat) => (
              <div key={stat.label} className="text-center">
                <div className="font-sans text-4xl md:text-5xl font-bold text-amber-400 mb-2">
                  {stat.value}
                </div>
                <div className="text-ink-400 text-sm">
                  {stat.label}
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Values Section */}
      <section className="py-24 md:py-32 bg-gradient-to-b from-white to-ink-50/50">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          {/* Section Header */}
          <div className="max-w-3xl mx-auto text-center mb-16">
            <Badge variant="secondary" className="mb-4">Our Values</Badge>
            <h2 className="font-sans text-3xl md:text-4xl font-bold text-ink-900 mb-6">
              What we stand for
            </h2>
            <p className="text-lg text-ink-600">
              These core values guide everything we do at CopyWorx.
            </p>
          </div>
          
          {/* Values Grid */}
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8">
            {values.map((value) => (
              <Card 
                key={value.title}
                className="border-border/50 bg-white"
              >
                <CardContent className="p-6">
                  <div className="flex h-12 w-12 items-center justify-center rounded-xl bg-ink-100 text-ink-700 mb-4">
                    <value.icon className="h-6 w-6" />
                  </div>
                  <h3 className="font-sans text-xl font-semibold text-ink-900 mb-2">
                    {value.title}
                  </h3>
                  <p className="text-ink-600 leading-relaxed">
                    {value.description}
                  </p>
                </CardContent>
              </Card>
            ))}
          </div>
        </div>
      </section>
    </>
  );
}



=== FILE: app/(marketing)/layout.tsx ===

/**
 * @file app/(marketing)/layout.tsx
 * @description Layout for marketing pages (public-facing)
 * 
 * Includes:
 * - Minimal auth header (Clerk only, no navigation)
 * - Footer
 * - No navbar - hero starts at top
 */

'use client';

import { SignedIn, SignedOut, UserButton } from '@clerk/nextjs';
import Link from 'next/link';
import { Button } from '@/components/ui/button';
import { MarketingFooter } from '@/components/layout/marketing-footer';

/**
 * Marketing layout component
 * 
 * Wraps all public-facing pages with minimal auth header and footer.
 * No navigation bar - just Clerk auth components.
 */
export default function MarketingLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="flex min-h-screen flex-col">
      {/* Minimal Auth Header - Fixed top right */}
      <div className="fixed top-0 right-0 z-50 p-4">
        <div className="flex items-center gap-4">
          {/* Show when user IS signed in */}
          <SignedIn>
            <Button variant="ghost" className="bg-gradient-to-r from-[#006EE6] to-[#A755F7] text-white hover:opacity-90" asChild>
              <Link href="/worxspace">Worxspace</Link>
            </Button>
            <UserButton 
              afterSignOutUrl="/home"
              appearance={{
                elements: {
                  avatarBox: 'h-9 w-9 shadow-lg',
                  userButtonPopoverCard: 'shadow-xl border border-border/50',
                  userButtonPopoverActionButton: 'hover:bg-ink-50',
                  userButtonPopoverActionButtonText: 'text-ink-700',
                  userButtonPopoverActionButtonIcon: 'text-ink-500',
                  userButtonPopoverFooter: 'hidden',
                },
              }}
            />
          </SignedIn>

          {/* Show when user is NOT signed in */}
          <SignedOut>
            <Button variant="ghost" className="bg-white/80 backdrop-blur-sm hover:bg-white" asChild>
              <Link href="/sign-in">Sign In</Link>
            </Button>
          </SignedOut>
        </div>
      </div>

      <main className="flex-1">
        {children}
      </main>
      <MarketingFooter />
    </div>
  );
}


=== FILE: app/(marketing)/page.tsx ===

/**
 * @file app/(marketing)/page.tsx
 * @description CopyWorx‚Ñ¢ Studio landing page - professional marketing homepage
 * 
 * Sections:
 * - Hero with solid gray background and primary CTA
 * - The Challenge - problem statement
 * - The Story - founder narrative with gradient background
 * - Features - 2x2 grid of key capabilities
 * - How It Works - 4-step process
 * - Beta Access - final CTA section
 */

import Image from 'next/image';
import { 
  Sparkles, 
  Palette, 
  FileText, 
  FolderOpen,
  ArrowRight
} from 'lucide-react';
import { Button } from '@/components/ui/button';

/**
 * Features data for the features section
 */
const features = [
  {
    icon: Sparkles,
    title: 'Copy Optimizer Suite',
    description: 'Refine your copy in real time. Shift tone, expand ideas, tighten language, or completely rewrite for different channels ‚Äì all while maintaining your unique voice.',
  },
  {
    icon: FileText,
    title: 'AI@Worx Templates',
    description: "Strategic templates that ask the right questions to put you in the right direction fast. No more staring at a blank page. Answer a few prompts and get professional copy that's ready to refine.",
  },
  {
    icon: Palette,
    title: 'Brand Voice System',
    description: 'Define your brand voice once, and CopyWorx‚Ñ¢ Studio ensures everything you write stays on brand. Create detailed personas, set approved phrases and forbidden words, and maintain consistency across every piece of content.',
  },
  {
    icon: FolderOpen,
    title: 'Smart Document Management',
    description: 'Organize projects by client, track versions, and manage your entire copywriting workflow in one intuitive worxspace. No more scattered Google Docs or lost revisions.',
  },
] as const;

/**
 * How it works steps
 */
const steps = [
  {
    number: '01',
    title: 'Define Your Brand',
    description: 'Define your brand voice and create customer personas (or skip this and start writing)',
  },
  {
    number: '02',
    title: 'Choose Your Starting Point',
    description: 'Choose a template or start from scratch in the editor',
  },
  {
    number: '03',
    title: 'Write & Optimize',
    description: 'Write, optimize, and refine with AI-powered tools ‚Äì use as much or as little help as you need',
  },
  {
    number: '04',
    title: 'Export & Deliver',
    description: 'Export professional, on-brand copy in minutes',
  },
] as const;

/**
 * Homepage component - CopyWorx‚Ñ¢ Studio landing page
 */
export default function HomePage() {
  return (
    <div className="scroll-smooth">
      {/* ========================================================================
          HERO SECTION
          Full viewport height with solid gray background
          ======================================================================== */}
      <section className="relative min-h-screen flex items-center justify-center overflow-hidden bg-[#F5F5F7]">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
          <div className="max-w-4xl mx-auto text-center">
            {/* Logo - Large (reduced 10% from previous) */}
            <div className="flex justify-center mb-14 animate-fade-in">
              <Image
                src="/copyworx-studio-logo.png"
                alt="CopyWorx‚Ñ¢ Studio"
                width={720}
                height={200}
                className="h-44 sm:h-56 md:h-[17rem] w-auto"
                priority
              />
            </div>
            
            {/* Headline */}
            <h1 className="font-sans text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-ink-900 leading-[1.1] tracking-tight mb-6 animate-fade-in animation-delay-100">
              Write To Win With
              <br />
              <span className="bg-gradient-to-r from-[#006EE6] to-[#A755F7] bg-clip-text text-transparent">CopyWorx‚Ñ¢ Studio</span>
            </h1>
            
            {/* Subheadline */}
            <p className="text-lg sm:text-xl md:text-2xl text-ink-600 max-w-3xl mx-auto leading-relaxed mb-10 animate-fade-in animation-delay-200">
              The first AI-powered platform built by a professional copywriter, for copywriters and marketers.
            </p>
            
            {/* Primary CTA */}
            <div className="animate-fade-in animation-delay-300">
              <Button 
                size="xl" 
                className="bg-gradient-to-r from-[#006EE6] to-[#A755F7] text-white hover:opacity-90 font-semibold text-lg px-10 py-6 h-auto shadow-2xl transition-all duration-300"
                asChild
              >
                <a href="https://tally.so/r/Xx4yxV">
                  Request Beta Access
                  <ArrowRight className="ml-2 h-5 w-5" />
                </a>
              </Button>
            </div>
          </div>
        </div>
        
        {/* Scroll Indicator */}
        <div className="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
          <div className="w-6 h-10 rounded-full border-2 border-ink-400/50 flex items-start justify-center p-2">
            <div className="w-1.5 h-3 bg-ink-400/70 rounded-full" />
          </div>
        </div>
      </section>

      {/* ========================================================================
          THE CHALLENGE SECTION
          Problem statement with clean typography
          ======================================================================== */}
      <section className="py-24 md:py-32 bg-white">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          <div className="max-w-4xl mx-auto">
            <h2 className="font-sans text-3xl sm:text-4xl md:text-5xl font-bold text-ink-900 mb-8 text-center">
              Writing Great Copy Shouldn&apos;t Be So Hard
            </h2>
            
            <div className="prose prose-lg md:prose-xl max-w-none text-ink-600 leading-relaxed space-y-6">
              <p>
                Whether you&apos;re a seasoned copywriter juggling multiple clients or a marketing team trying to maintain brand consistency across campaigns, the challenge is the same: How do you write professional, strategic copy quickly without sacrificing quality?
              </p>
              
              <p>
                Traditional writing tools aren&apos;t built for copywriters. AI tools promise speed but deliver generic fluff. And hiring out? Expensive and slow.
              </p>
              
              <p className="text-ink-900 font-semibold text-xl md:text-2xl">
                CopyWorx‚Ñ¢ Studio changes that.
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* ========================================================================
          THE STORY SECTION
          Founder narrative with gradient background and white text
          ======================================================================== */}
      <section className="py-24 md:py-32 bg-gradient-to-br from-[#006EE6] via-[#4B3F99] to-[#A755F7] relative overflow-hidden">
        {/* Subtle Pattern Overlay */}
        <div className="absolute inset-0 opacity-10">
          <div className="absolute inset-0" style={{
            backgroundImage: 'radial-gradient(circle at 1px 1px, white 1px, transparent 1px)',
            backgroundSize: '40px 40px'
          }} />
        </div>
        
        {/* Decorative Glow Elements */}
        <div className="absolute top-0 left-0 w-72 h-72 bg-[#EFBF04]/10 rounded-full blur-3xl" />
        <div className="absolute bottom-0 right-0 w-96 h-96 bg-white/5 rounded-full blur-3xl" />
        
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
          <div className="max-w-4xl mx-auto">
            <h2 className="font-sans text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-8 text-center">
              Built By A Copywriter Who Gets It
            </h2>
            
            <div className="prose prose-lg md:prose-xl max-w-none text-white/90 leading-relaxed space-y-6">
              <p>
                CopyWorx‚Ñ¢ Studio leverages proven, time-tested copywriting tools and combines them with the power of AI to create a platform any marketing professional can use ‚Äî regardless of writing experience ‚Äî to create professional, high-converting copy in minutes.
              </p>
              
              <p>
                CopyWorx‚Ñ¢ Studio was created by a professional copywriter, creative director, and branding expert with over 40 years of experience. He and his team have packed CopyWorx‚Ñ¢ Studio with all of the features and functions a copywriter needs in one, clean, intuitive worxspace.
              </p>
              
              <p>
                CopyWorx‚Ñ¢ Studio utilizes AI in all the ways that are important to writers ‚Äì inspiring ideas, finessing copy, offering strategic suggestions, checking and changing tone and style, and always reviewing copy through the lens of brand standards and customer personas. And of course, just being a solid writing app with the features, functions and worxflows you expect in today&apos;s writing tools.
              </p>
              
              {/* Highlighted sentence */}
              <p className="bg-white/10 border-l-4 border-[#EFBF04] pl-6 py-4 rounded-r-lg backdrop-blur-sm">
                <strong className="text-white text-xl md:text-2xl">
                  With CopyWorx‚Ñ¢ Studio, you can use as much or as little AI as you like.
                </strong>
              </p>
              
              <p>
                Start with a template, start with a brand voice, start on your own. The point is, it&apos;s easy to get started with real workflow-aware functionality.
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* ========================================================================
          FEATURES SECTION
          2x2 grid of key capabilities
          ======================================================================== */}
      <section className="py-24 md:py-32 bg-white">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          {/* Section Header */}
          <div className="max-w-3xl mx-auto text-center mb-16">
            <h2 className="font-sans text-3xl sm:text-4xl md:text-5xl font-bold text-ink-900 mb-6">
              What Makes CopyWorx‚Ñ¢ Studio Different
            </h2>
          </div>
          
          {/* Features Grid - 2x2 */}
          <div className="max-w-5xl mx-auto grid md:grid-cols-2 gap-8">
            {features.map((feature, index) => (
              <div 
                key={feature.title}
                className="group relative bg-white rounded-2xl border border-ink-200 p-8 shadow-sm hover:shadow-xl hover:border-[#006EE6]/30 transition-all duration-300"
                style={{ animationDelay: `${index * 100}ms` }}
              >
                {/* Icon */}
                <div className="flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-[#006EE6] to-[#A755F7] text-white mb-6 group-hover:scale-110 transition-transform duration-300">
                  <feature.icon className="h-7 w-7" />
                </div>
                
                {/* Content */}
                <h3 className="font-sans text-xl md:text-2xl font-semibold text-ink-900 mb-3">
                  {feature.title}
                </h3>
                <p className="text-ink-600 leading-relaxed">
                  {feature.description}
                </p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* ========================================================================
          HOW IT WORKS SECTION
          4-step process with numbered steps
          ======================================================================== */}
      <section className="py-24 md:py-32 bg-ink-950 text-white">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8">
          {/* Section Header */}
          <div className="max-w-3xl mx-auto text-center mb-16">
            <h2 className="font-sans text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-6">
              How It Works
            </h2>
          </div>
          
          {/* Steps */}
          <div className="max-w-4xl mx-auto">
            <div className="grid md:grid-cols-2 gap-8 md:gap-12">
              {steps.map((step, index) => (
                <div 
                  key={step.number}
                  className="relative flex gap-6"
                  style={{ animationDelay: `${index * 100}ms` }}
                >
                  {/* Step Number */}
                  <div className="flex-shrink-0">
                    <div className="flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-[#006EE6] to-[#A755F7] text-white font-bold text-xl">
                      {step.number}
                    </div>
                  </div>
                  
                  {/* Step Content */}
                  <div className="pt-2">
                    <h3 className="font-sans text-xl font-semibold text-white mb-2">
                      {step.title}
                    </h3>
                    <p className="text-ink-300 leading-relaxed">
                      {step.description}
                    </p>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* ========================================================================
          BETA ACCESS SECTION
          Final CTA with gradient background
          ======================================================================== */}
      <section className="py-24 md:py-32 bg-[#F5F5F7] relative overflow-hidden">
        <div className="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
          <div className="max-w-3xl mx-auto text-center">
            <h2 className="font-sans text-3xl sm:text-4xl md:text-5xl font-bold text-ink-900 mb-6">
              Ready To Write To Win?
            </h2>
            
            <div className="text-lg md:text-xl text-ink-600 leading-relaxed space-y-6 mb-10">
              <p>
                CopyWorx‚Ñ¢ Studio is currently in closed beta. We&apos;re carefully selecting marketing professionals and copywriters to test the platform and help shape its future.
              </p>
              
              <p>
                Request access below and tell us why you want in. We review every application and send invites to approved beta testers.
              </p>
              
              <p className="bg-gradient-to-r from-[#006EE6] to-[#A755F7] bg-clip-text text-transparent font-semibold text-xl md:text-2xl">
                Now let&apos;s get to worx!
              </p>
            </div>
            
            {/* CTA Button */}
            <Button 
              size="xl" 
              className="bg-gradient-to-r from-[#006EE6] to-[#A755F7] text-white hover:opacity-90 font-semibold text-lg px-10 py-6 h-auto shadow-2xl transition-all duration-300"
              asChild
            >
              <a href="https://tally.so/r/Xx4yxV">
                Request Beta Access
                <ArrowRight className="ml-2 h-5 w-5" />
              </a>
            </Button>
          </div>
        </div>
      </section>

    </div>
  );
}


=== FILE: app/(marketing)/pricing/page.tsx ===

/**
 * @file app/(marketing)/pricing/page.tsx
 * @description Pricing page for CopyWorx
 * 
 * Sections:

================================================================
END OF FIRST 25 PAGES 
================================================================

================================================================
BEGINNING OF LAST 25 PAGES ================================================================

  debug: (...args: unknown[]): void => {
    if (isDev) {
      console.debug(...args);
    }
  },
};

/**
 * Conditional log that executes callback only in development
 * Useful for complex log formatting
 */
export function devOnly(callback: () => void): void {
  if (isDev) {
    callback();
  }
}

export default logger;


=== FILE: lib/utils/pdf-export.ts ===

/**
 * @file lib/utils/pdf-export.ts
 * @description PDF export utilities for setting document title and filename
 * 
 * When window.print() is called, browsers use the HTML <title> tag
 * as the default filename for "Save as PDF". This utility helps
 * set the title dynamically based on document name.
 */

/**
 * Sanitize a string for use as a filename
 * - Removes or replaces invalid filename characters
 * - Limits length to reasonable size
 * - Handles edge cases
 * 
 * @param title - The document title to sanitize
 * @returns Sanitized filename (without extension)
 * 
 * @example
 * sanitizeFilename("CoffeeWorx Coffee Brochure") => "CoffeeWorx-Coffee-Brochure"
 * sanitizeFilename("My Doc (v2)") => "My-Doc-v2"
 * sanitizeFilename("") => "untitled"
 */
export function sanitizeFilename(title: string): string {
  if (!title || title.trim() === '') {
    return 'untitled';
  }

  return title
    .trim()
    // Replace special characters with hyphens
    .replace(/[^a-zA-Z0-9\s-]/g, '-')
    // Replace multiple spaces with single hyphen
    .replace(/\s+/g, '-')
    // Replace multiple hyphens with single hyphen
    .replace(/-+/g, '-')
    // Remove leading/trailing hyphens
    .replace(/^-+|-+$/g, '')
    // Limit length to 50 characters
    .substring(0, 50)
    // Remove trailing hyphen if truncation created one
    .replace(/-+$/, '')
    // If empty after sanitization, use fallback
    || 'untitled';
}

/**
 * Set document title for PDF export
 * Temporarily changes the HTML <title> tag to control PDF filename
 * 
 * @param documentTitle - The document title to use for PDF filename
 * @returns Cleanup function to restore original title
 * 
 * @example
 * const restore = setDocumentTitleForPDF("My Document");
 * window.print();
 * restore(); // Call after print dialog opens
 */
export function setDocumentTitleForPDF(documentTitle?: string): () => void {
  // Save original title
  const originalTitle = document.title;
  
  // Set new title (sanitized)
  const newTitle = documentTitle 
    ? sanitizeFilename(documentTitle)
    : 'document';
  
  document.title = newTitle;
  
  // Return cleanup function to restore original title
  return () => {
    document.title = originalTitle;
  };
}

/**
 * Execute window.print() with proper document title
 * Sets the document title, opens print dialog, then restores original title
 * 
 * @param documentTitle - Optional document title for PDF filename
 * 
 * @example
 * printWithTitle("CoffeeWorx Brochure");
 * // Opens print dialog with filename "CoffeeWorx-Brochure.pdf"
 */
export function printWithTitle(documentTitle?: string): void {
  // Set document title
  const restore = setDocumentTitleForPDF(documentTitle);
  
  // Open print dialog
  window.print();
  
  // Restore original title after a short delay
  // This allows the browser to capture the new title for the PDF
  setTimeout(restore, 100);
}


=== FILE: lib/utils/project-utils.ts ===

/**
 * @file lib/utils/project-utils.ts
 * @description Project utility functions and system initialization
 * 
 * Provides high-level functions for:
 * - Project system initialization
 * - Data migration from legacy brand voice storage
 * - Common project operations
 */

'use client';

import type { Project } from '@/lib/types/project';
import type { BrandVoice } from '@/lib/types/brand';
import {
  getAllProjects,
  getActiveProjectId,
  setActiveProjectId,
  createProject,
  saveBrandVoiceToProject,
} from '@/lib/storage/unified-storage';
// Use local storage for sync initialization
import * as localProjectStorage from '@/lib/storage/project-storage';
import { logger } from './logger';

/** Legacy brand voice localStorage key */
const LEGACY_BRAND_VOICE_KEY = 'copyworx-brand-voice';

/** Migration flag to ensure migration only runs once */
const MIGRATION_COMPLETE_KEY = 'copyworx_project_migration_complete';

/**
 * Check if migration has already been completed
 */
function isMigrationComplete(): boolean {
  if (typeof window === 'undefined') return true;
  
  try {
    return localStorage.getItem(MIGRATION_COMPLETE_KEY) === 'true';
  } catch {
    return false;
  }
}

/**
 * Mark migration as complete
 */
function markMigrationComplete(): void {
  if (typeof window === 'undefined') return;
  
  try {
    localStorage.setItem(MIGRATION_COMPLETE_KEY, 'true');
  } catch (error) {
    logger.error('‚ùå Failed to mark migration complete:', error);
  }
}

/**
 * Migrate legacy brand voice data to project system
 * Uses local storage directly for sync operation during initialization
 * 
 * This function:
 * 1. Checks for old brand voice in localStorage
 * 2. Creates default project if needed
 * 3. Moves brand voice to that project
 * 4. Removes old localStorage key
 */
function migrateLegacyBrandVoice(): void {
  if (typeof window === 'undefined') return;
  
  // Skip if migration already complete
  if (isMigrationComplete()) {
    logger.log('‚úÖ Migration already complete');
    return;
  }
  
  logger.log('üîÑ Checking for legacy brand voice data...');
  
  try {
    // Check for legacy brand voice
    const legacyBrandVoiceJson = localStorage.getItem(LEGACY_BRAND_VOICE_KEY);
    
    if (!legacyBrandVoiceJson) {
      logger.log('‚ÑπÔ∏è No legacy brand voice found');
      markMigrationComplete();
      return;
    }
    
    // Parse legacy brand voice
    const legacyBrandVoice: BrandVoice = JSON.parse(legacyBrandVoiceJson);
    logger.log('üì¶ Found legacy brand voice:', legacyBrandVoice.brandName);
    
    // Get current projects (use local storage for sync operation)
    const projects = localProjectStorage.getAllProjects();
    
    if (projects.length === 0) {
      // No projects exist - create default project with brand voice
      logger.log('üÜï Creating default project with legacy brand voice...');
      const defaultProject = localProjectStorage.createProject('My First Project');
      localProjectStorage.saveBrandVoiceToProject(defaultProject.id, legacyBrandVoice);
      localProjectStorage.setActiveProjectId(defaultProject.id);
      logger.log('‚úÖ Legacy brand voice migrated to new project');
    } else {
      // Projects exist - add to active project (or first project if no active)
      const activeId = localProjectStorage.getActiveProjectId();
      const targetProject = activeId 
        ? projects.find(p => p.id === activeId) || projects[0]
        : projects[0];
      
      logger.log(`üîÑ Migrating brand voice to project: ${targetProject.name}`);
      localProjectStorage.saveBrandVoiceToProject(targetProject.id, legacyBrandVoice);
      logger.log('‚úÖ Legacy brand voice migrated to existing project');
    }
    
    // Remove legacy key
    localStorage.removeItem(LEGACY_BRAND_VOICE_KEY);
    logger.log('üóëÔ∏è Removed legacy brand voice key');
    
    // Mark migration as complete
    markMigrationComplete();
    logger.log('‚úÖ Migration complete');
    
  } catch (error) {
    logger.error('‚ùå Migration failed:', error);
    // Mark as complete anyway to prevent infinite retry loops
    markMigrationComplete();
  }
}

/**
 * Initialize project system
 * Uses local storage directly for sync initialization
 * 
 * This function should be called once when the app loads.
 * It:
 * 1. Ensures at least one project exists
 * 2. Migrates legacy brand voice data
 * 3. Verifies active project is valid
 */
export function initializeProjectSystem(): void {
  if (typeof window === 'undefined') {
    logger.warn('‚ö†Ô∏è Cannot initialize project system on server');
    return;
  }
  
  logger.log('üöÄ Initializing project system...');
  
  try {
    // Ensure at least one project exists (use local storage for sync operation)
    localProjectStorage.ensureDefaultProject();
    
    // Migrate legacy data
    migrateLegacyBrandVoice();
    
    // Verify active project (use local storage for sync operation)
    const activeId = localProjectStorage.getActiveProjectId();
    const projects = localProjectStorage.getAllProjects();
    
    if (!activeId && projects.length > 0) {
      // No active project set - set first project as active
      localProjectStorage.setActiveProjectId(projects[0].id);
      logger.log('‚úÖ Set first project as active');
    } else if (activeId) {
      // Verify active project exists
      const activeProject = projects.find(p => p.id === activeId);
      if (!activeProject && projects.length > 0) {
        // Active project doesn't exist - set first project as active
        localProjectStorage.setActiveProjectId(projects[0].id);
        logger.warn('‚ö†Ô∏è Active project not found. Switched to first project.');
      }
    }
    
    logger.log('‚úÖ Project system initialized');
    
  } catch (error) {
    logger.error('‚ùå Failed to initialize project system:', error);
  }
}

/**
 * Get current active project (sync - uses local storage)
 * Returns null if no active project exists
 */
export function getCurrentProject(): Project | null {
  return localProjectStorage.getCurrentProject();
}

/**
 * Create new project and set as active
 * Returns the created project (async for cloud support)
 */
export async function createAndActivateProject(name: string): Promise<Project> {
  if (typeof window === 'undefined') {
    throw new Error('Cannot create project in non-browser environment');
  }
  
  // Create project
  const newProject = await createProject(name);
  
  // Set as active
  await setActiveProjectId(newProject.id);
  
  logger.log('‚úÖ Created and activated project:', {
    id: newProject.id,
    name: newProject.name,
  });
  
  return newProject;
}

/**
 * Re-export unified storage functions for convenience
 */
export { getAllProjects, getActiveProjectId, setActiveProjectId } from '@/lib/storage/unified-storage';


=== FILE: lib/utils/readability.ts ===

/**
 * @file lib/utils/readability.ts
 * @description Readability analysis utilities using Flesch-Kincaid formulas
 * 
 * Provides text analysis without requiring any API calls:
 * - Word count
 * - Character count
 * - Sentence count
 * - Syllable count
 * - Reading time estimation
 * - Flesch Reading Ease score
 * - Flesch-Kincaid Grade Level
 */

// ============================================================================
// Constants
// ============================================================================

/** Average reading speed in words per minute */
const WORDS_PER_MINUTE = 200;

/** Vowels used for syllable counting */
const VOWELS = ['a', 'e', 'i', 'o', 'u', 'y'];

/** Silent endings that don't add syllables */
const SILENT_ENDINGS = ['es', 'ed', 'e'];

/** Special suffixes that count as additional syllables */
const SYLLABLE_SUFFIXES = ['le', 'les', 'tion', 'sion'];

// ============================================================================
// Type Definitions
// ============================================================================

/**
 * Basic text metrics (no API required)
 */
export interface BasicMetrics {
  /** Total word count */
  wordCount: number;
  
  /** Total character count (including spaces) */
  characterCount: number;
  
  /** Total character count (excluding spaces) */
  characterCountNoSpaces: number;
  
  /** Total sentence count */
  sentenceCount: number;
  
  /** Estimated reading time in seconds */
  readingTimeSeconds: number;
  
  /** Formatted reading time string */
  readingTimeFormatted: string;
}

/**
 * Readability metrics
 */
export interface ReadabilityMetrics {
  /** Flesch Reading Ease score (0-100) */
  fleschReadingEase: number;
  
  /** Flesch-Kincaid Grade Level */
  gradeLevel: number;
  
  /** Human-readable grade level string */
  gradeLevelLabel: string;
  
  /** Readability label (Very Easy, Easy, etc.) */
  readabilityLabel: string;
  
  /** Normalized score (1-10 scale) */
  normalizedScore: number;
}

/**
 * Complete document metrics
 */
export interface DocumentMetrics extends BasicMetrics, ReadabilityMetrics {}

// ============================================================================
// Text Extraction
// ============================================================================

/**
 * Strip HTML tags and convert to plain text
 * @param html - HTML content string
 * @returns Plain text with HTML removed
 */
export function stripHtml(html: string): string {
  if (!html) return '';
  
  // Replace block-level elements with newlines for proper sentence detection
  const blockElements = /<\/(p|div|h[1-6]|li|br|blockquote)>/gi;
  let text = html.replace(blockElements, '. ');
  
  // Remove all remaining HTML tags
  text = text.replace(/<[^>]*>/g, ' ');
  
  // Decode common HTML entities
  text = text
    .replace(/&nbsp;/g, ' ')
    .replace(/&amp;/g, '&')
    .replace(/&lt;/g, '<')
    .replace(/&gt;/g, '>')
    .replace(/&quot;/g, '"')
    .replace(/&#39;/g, "'")
    .replace(/&mdash;/g, '‚Äî')
    .replace(/&ndash;/g, '‚Äì');
  
  // Normalize whitespace
  text = text.replace(/\s+/g, ' ').trim();
  
  // Clean up multiple periods
  text = text.replace(/\.+/g, '.');
  
  return text;
}

// ============================================================================
// Basic Counting Functions
// ============================================================================

/**
 * Count words in text
 * @param text - Plain text string
 * @returns Number of words
 */
export function countWords(text: string): number {
  if (!text || !text.trim()) return 0;
  
  // Split on whitespace and filter empty strings
  const words = text.trim().split(/\s+/).filter(word => word.length > 0);
  return words.length;
}

/**
 * Count sentences in text
 * Uses sentence-ending punctuation as delimiters
 * @param text - Plain text string
 * @returns Number of sentences
 */
export function countSentences(text: string): number {
  if (!text || !text.trim()) return 0;
  
  // Match sentence-ending punctuation followed by space or end of string
  // Also handles abbreviations by requiring at least 2 characters before period
  const sentenceEndings = text.match(/[.!?]+(?:\s|$)/g);
  
  // If no sentence endings found, treat as one sentence if there's content
  if (!sentenceEndings) {
    return text.trim().length > 0 ? 1 : 0;
  }
  
  return sentenceEndings.length;
}

/**
 * Count syllables in a single word
 * Uses heuristic approach for English words
 * @param word - Single word
 * @returns Number of syllables (minimum 1)
 */
export function countSyllables(word: string): number {
  if (!word) return 0;
  
  // Normalize to lowercase, remove non-alphabetic characters
  const cleanWord = word.toLowerCase().replace(/[^a-z]/g, '');
  
  if (cleanWord.length === 0) return 0;
  if (cleanWord.length <= 2) return 1;
  
  let syllableCount = 0;
  let previousWasVowel = false;
  
  // Count vowel groups
  for (let i = 0; i < cleanWord.length; i++) {
    const char = cleanWord[i];
    const isVowel = VOWELS.includes(char);
    
    if (isVowel && !previousWasVowel) {
      syllableCount++;
    }
    
    previousWasVowel = isVowel;
  }
  
  // Handle silent 'e' at end
  if (cleanWord.endsWith('e') && !cleanWord.endsWith('le')) {
    syllableCount--;
  }
  
  // Handle special endings
  if (cleanWord.endsWith('le') && cleanWord.length > 2) {
    const charBeforeLe = cleanWord[cleanWord.length - 3];
    // 'le' adds syllable if preceded by consonant
    if (!VOWELS.includes(charBeforeLe)) {
      // Already counted in vowel groups for some words, skip
    }
  }
  
  // Handle -ed ending
  if (cleanWord.endsWith('ed') && cleanWord.length > 2) {
    const charBeforeEd = cleanWord[cleanWord.length - 3];
    // -ed is usually silent except after t or d
    if (charBeforeEd !== 't' && charBeforeEd !== 'd') {
      syllableCount--;
    }
  }
  
  // Ensure at least one syllable
  return Math.max(1, syllableCount);
}

/**
 * Count total syllables in text
 * @param text - Plain text string
 * @returns Total syllable count
 */
export function countTotalSyllables(text: string): number {
  if (!text || !text.trim()) return 0;
  
  const words = text.trim().split(/\s+/).filter(word => word.length > 0);
  return words.reduce((total, word) => total + countSyllables(word), 0);
}

// ============================================================================
// Reading Time
// ============================================================================

/**
 * Calculate estimated reading time
 * @param wordCount - Number of words
 * @returns Reading time in seconds
 */
export function calculateReadingTime(wordCount: number): number {
  if (wordCount <= 0) return 0;
  return Math.ceil((wordCount / WORDS_PER_MINUTE) * 60);
}

/**
 * Format reading time as human-readable string
 * @param seconds - Reading time in seconds
 * @returns Formatted string (e.g., "~2 min 30 sec")
 */
export function formatReadingTime(seconds: number): string {
  if (seconds <= 0) return '< 1 sec';
  
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = seconds % 60;
  
  if (minutes === 0) {
    return `~${remainingSeconds} sec`;
  }
  
  if (remainingSeconds === 0) {
    return `~${minutes} min`;
  }
  
  return `~${minutes} min ${remainingSeconds} sec`;
}

// ============================================================================
// Readability Calculations
// ============================================================================

/**
 * Calculate Flesch Reading Ease score
 * Formula: 206.835 - 1.015 √ó (words/sentences) - 84.6 √ó (syllables/words)
 * 
 * Score interpretation:
 * - 90-100: Very Easy (5th grade)
 * - 80-89: Easy (6th grade)
 * - 70-79: Fairly Easy (7th grade)
 * - 60-69: Standard (8th-9th grade)
 * - 50-59: Fairly Difficult (10th-12th grade)
 * - 30-49: Difficult (College)
 * - 0-29: Very Difficult (College graduate)
 * 
 * @param wordCount - Total words
 * @param sentenceCount - Total sentences
 * @param syllableCount - Total syllables
 * @returns Flesch Reading Ease score (clamped to 0-100)
 */
export function calculateFleschReadingEase(
  wordCount: number,
  sentenceCount: number,
  syllableCount: number
): number {
  if (wordCount === 0 || sentenceCount === 0) return 0;
  
  const avgSentenceLength = wordCount / sentenceCount;
  const avgSyllablesPerWord = syllableCount / wordCount;
  
  const score = 206.835 - (1.015 * avgSentenceLength) - (84.6 * avgSyllablesPerWord);
  
  // Clamp to 0-100 range
  return Math.max(0, Math.min(100, Math.round(score * 10) / 10));
}

/**
 * Calculate Flesch-Kincaid Grade Level
 * Formula: 0.39 √ó (words/sentences) + 11.8 √ó (syllables/words) - 15.59
 * 
 * @param wordCount - Total words
 * @param sentenceCount - Total sentences
 * @param syllableCount - Total syllables
 * @returns Grade level (minimum 1)
 */
export function calculateGradeLevel(
  wordCount: number,
  sentenceCount: number,
  syllableCount: number
): number {
  if (wordCount === 0 || sentenceCount === 0) return 0;
  
  const avgSentenceLength = wordCount / sentenceCount;
  const avgSyllablesPerWord = syllableCount / wordCount;
  
  const gradeLevel = (0.39 * avgSentenceLength) + (11.8 * avgSyllablesPerWord) - 15.59;
  
  // Clamp to reasonable range (1-20)
  return Math.max(1, Math.min(20, Math.round(gradeLevel * 10) / 10));
}

/**
 * Get readability label from Flesch Reading Ease score
 * @param score - Flesch Reading Ease score (0-100)
 * @returns Human-readable label
 */
export function getReadabilityLabel(score: number): string {
  if (score >= 90) return 'Very Easy';
  if (score >= 80) return 'Easy';
  if (score >= 70) return 'Fairly Easy';
  if (score >= 60) return 'Standard';
  if (score >= 50) return 'Fairly Difficult';
  if (score >= 30) return 'Difficult';
  return 'Very Difficult';
}

/**
 * Get grade level label from numeric grade
 * @param grade - Numeric grade level
 * @returns Human-readable grade string
 */
export function getGradeLevelLabel(grade: number): string {
  const roundedGrade = Math.round(grade);
  
  if (roundedGrade <= 5) return '5th grade';
  if (roundedGrade === 6) return '6th grade';
  if (roundedGrade === 7) return '7th grade';
  if (roundedGrade === 8) return '8th grade';
  if (roundedGrade === 9) return '9th grade';
  if (roundedGrade === 10) return '10th grade';
  if (roundedGrade === 11) return '11th grade';
  if (roundedGrade === 12) return '12th grade';
  if (roundedGrade <= 16) return 'College';
  return 'Graduate';
}

/**
 * Convert Flesch Reading Ease to 1-10 normalized score
 * Higher is better (easier to read)
 * @param fleschScore - Flesch Reading Ease score (0-100)
 * @returns Normalized score (1-10)
 */
export function normalizeReadabilityScore(fleschScore: number): number {
  // Map 0-100 to 1-10 scale
  const normalized = (fleschScore / 100) * 9 + 1;
  return Math.max(1, Math.min(10, Math.round(normalized * 10) / 10));
}

// ============================================================================
// Main Analysis Functions
// ============================================================================

/**
 * Calculate basic text metrics
 * @param text - Plain text (or HTML that will be stripped)
 * @returns Basic metrics object
 */
export function calculateBasicMetrics(text: string): BasicMetrics {
  // Strip HTML if present
  const plainText = stripHtml(text);
  
  const wordCount = countWords(plainText);
  const characterCount = plainText.length;
  const characterCountNoSpaces = plainText.replace(/\s/g, '').length;
  const sentenceCount = countSentences(plainText);
  const readingTimeSeconds = calculateReadingTime(wordCount);
  const readingTimeFormatted = formatReadingTime(readingTimeSeconds);
  
  return {
    wordCount,
    characterCount,
    characterCountNoSpaces,
    sentenceCount,
    readingTimeSeconds,
    readingTimeFormatted,
  };
}

/**
 * Calculate readability metrics
 * @param text - Plain text (or HTML that will be stripped)
 * @returns Readability metrics object
 */
export function calculateReadabilityMetrics(text: string): ReadabilityMetrics {
  // Strip HTML if present
  const plainText = stripHtml(text);
  
  const wordCount = countWords(plainText);
  const sentenceCount = countSentences(plainText);
  const syllableCount = countTotalSyllables(plainText);
  
  const fleschReadingEase = calculateFleschReadingEase(wordCount, sentenceCount, syllableCount);
  const gradeLevel = calculateGradeLevel(wordCount, sentenceCount, syllableCount);
  const gradeLevelLabel = getGradeLevelLabel(gradeLevel);
  const readabilityLabel = getReadabilityLabel(fleschReadingEase);
  const normalizedScore = normalizeReadabilityScore(fleschReadingEase);
  
  return {
    fleschReadingEase,
    gradeLevel,
    gradeLevelLabel,
    readabilityLabel,
    normalizedScore,
  };
}

/**
 * Calculate all document metrics
 * @param text - Plain text (or HTML that will be stripped)
 * @returns Complete metrics object
 */
export function analyzeDocument(text: string): DocumentMetrics {
  // Strip HTML if present
  const plainText = stripHtml(text);
  
  // Basic counts
  const wordCount = countWords(plainText);
  const characterCount = plainText.length;
  const characterCountNoSpaces = plainText.replace(/\s/g, '').length;
  const sentenceCount = countSentences(plainText);
  const syllableCount = countTotalSyllables(plainText);
  
  // Reading time
  const readingTimeSeconds = calculateReadingTime(wordCount);
  const readingTimeFormatted = formatReadingTime(readingTimeSeconds);
  
  // Readability
  const fleschReadingEase = calculateFleschReadingEase(wordCount, sentenceCount, syllableCount);
  const gradeLevel = calculateGradeLevel(wordCount, sentenceCount, syllableCount);
  const gradeLevelLabel = getGradeLevelLabel(gradeLevel);
  const readabilityLabel = getReadabilityLabel(fleschReadingEase);
  const normalizedScore = normalizeReadabilityScore(fleschReadingEase);
  
  return {
    wordCount,
    characterCount,
    characterCountNoSpaces,
    sentenceCount,
    readingTimeSeconds,
    readingTimeFormatted,
    fleschReadingEase,
    gradeLevel,
    gradeLevelLabel,
    readabilityLabel,
    normalizedScore,
  };
}


=== FILE: middleware.ts ===

/**
 * @file middleware.ts
 * @description Clerk authentication middleware for route protection (Clerk 5.x)
 * 
 * Protects all routes under /worxspace, /templates, /projects
 * Keeps marketing pages, auth pages, and API routes public
 */

import { clerkMiddleware, createRouteMatcher } from '@clerk/nextjs/server';

/**
 * Define public routes that don't require authentication
 * 
 * Public routes:
 * - / (redirects to /home)
 * - /home (splash page)
 * - /about
 * - /pricing
 * - /sign-in, /sign-up (auth pages)
 * - /api/* (API routes - handle their own auth)
 */
const isPublicRoute = createRouteMatcher([
  '/',
  '/home',
  '/about',
  '/pricing',
  '/sign-in(.*)',
  '/sign-up(.*)',
  '/api(.*)',
]);

/**
 * Clerk middleware configuration
 * 
 * Uses clerkMiddleware with createRouteMatcher pattern (Clerk 5.x)
 * Protects all routes except those defined in isPublicRoute
 */
export default clerkMiddleware((auth, request) => {
  // If it's not a public route, require authentication
  if (!isPublicRoute(request)) {
    auth().protect();
  }
});

/**
 * Middleware matcher configuration
 * Specifies which routes the middleware should run on
 */
export const config = {
  matcher: [
    // Skip Next.js internals and all static files, unless found in search params
    '/((?!_next|[^?]*\\.(?:html?|css|js(?!on)|jpe?g|webp|png|gif|svg|ttf|woff2?|ico|csv|docx?|xlsx?|zip|webmanifest)).*)',
    // Always run for API routes
    '/(api|trpc)(.*)',
  ],
};


=== FILE: next-env.d.ts ===

/// <reference types="next" />
/// <reference types="next/image-types/global" />

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/building-your-application/configuring/typescript for more information.


=== FILE: next.config.js ===

/**
 * @file next.config.js
 * @description Next.js configuration for CopyWorx application
 */

/** @type {import('next').NextConfig} */
const nextConfig = {
  // Enable React Strict Mode for better development experience
  reactStrictMode: true,
  
  // Disable ESLint during production builds to avoid blocking deployment
  eslint: {
    ignoreDuringBuilds: true,
  },
  
  // Image optimization configuration
  images: {
    formats: ['image/avif', 'image/webp'],
    unoptimized: false,
    remotePatterns: [
      {
        protocol: 'https',
        hostname: 'img.clerk.com',
        port: '',
        pathname: '/**',
      },
    ],
  },
  
  // Experimental features for App Router optimization
  experimental: {
    // Enable server actions
    serverActions: {
      bodySizeLimit: '2mb',
    },
  },
};

module.exports = nextConfig;



=== FILE: postcss.config.js ===

/**
 * @file postcss.config.js
 * @description PostCSS configuration for Tailwind CSS processing
 */

module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};



=== FILE: tailwind.config.ts ===

/**
 * @file tailwind.config.ts
 * @description Tailwind CSS configuration with custom CopyWorx theme
 * 
 * Design System:
 * - Primary: Deep ink/navy tones for professional writing aesthetic
 * - Accent: Warm amber/gold for CTAs and highlights
 * - Neutrals: Warm grays for text and backgrounds
 */

import type { Config } from 'tailwindcss';

const config: Config = {
  darkMode: ['class'],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  prefix: '',
  theme: {
    container: {
      center: true,
      padding: '2rem',
      screens: {
        '2xl': '1400px',
      },
    },
    extend: {
      colors: {
        // Custom CopyWorx palette
        ink: {
          50: '#f6f7f9',
          100: '#eceef2',
          200: '#d5d9e2',
          300: '#b0b8c9',
          400: '#8592ab',
          500: '#667591',
          600: '#515d77',
          700: '#434c61',
          800: '#3a4152',
          900: '#1e2433',
          950: '#0f1219',
        },
        amber: {
          50: '#fffdf0',
          100: '#fef9d9',
          200: '#fef3b3',
          300: '#fded8c',
          400: '#fde166',
          500: '#EFBF04',
          600: '#d9aa04',
          700: '#b38c03',
          800: '#8c6d03',
          900: '#665002',
          950: '#403301',
        },
        // Apple aesthetic - CopyWorx v2
        'apple-blue': {
          DEFAULT: '#0071E3',
          dark: '#0062CC',
          light: '#0077ED',
        },
        'apple-gray': {
          DEFAULT: '#86868B',
          light: '#D2D2D7',
          bg: '#F5F5F7',
        },
        'apple-text': {
          dark: '#1D1D1F',
          light: '#6E6E73',
        },
        'apple-editor': {
          bg: '#2F3542',
          paper: '#FFFFFF',
        },
        // shadcn/ui compatible colors
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
      },
      fontFamily: {
        sans: ['var(--font-inter)', 'Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
        mono: ['ui-monospace', 'SFMono-Regular', 'Menlo', 'Monaco', 'Consolas', 'monospace'],
      },
      fontSize: {
        '2xs': ['0.625rem', { lineHeight: '0.875rem' }],
      },
      borderRadius: {
        lg: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        sm: 'calc(var(--radius) - 4px)',
      },
      keyframes: {
        'accordion-down': {
          from: { height: '0' },
          to: { height: 'var(--radix-accordion-content-height)' },
        },
        'accordion-up': {
          from: { height: 'var(--radix-accordion-content-height)' },
          to: { height: '0' },
        },
        'fade-in': {
          from: { opacity: '0', transform: 'translateY(10px)' },
          to: { opacity: '1', transform: 'translateY(0)' },
        },
        'fade-in-up': {
          from: { opacity: '0', transform: 'translateY(20px)' },
          to: { opacity: '1', transform: 'translateY(0)' },
        },
        'slide-in-right': {
          from: { opacity: '0', transform: 'translateX(20px)' },
          to: { opacity: '1', transform: 'translateX(0)' },
        },
        shimmer: {
          '0%': { opacity: '0.5', transform: 'scale(1)' },
          '50%': { opacity: '1', transform: 'scale(1.1)' },
          '100%': { opacity: '0.5', transform: 'scale(1)' },
        },
        pulse: {
          '0%, 100%': { opacity: '1' },
          '50%': { opacity: '0.5' },
        },
        'gradient-flow': {
          '0%, 100%': { 
            backgroundPosition: '0% 50%',
          },
          '50%': { 
            backgroundPosition: '100% 50%',
          },
        },
      },
      animation: {
        'accordion-down': 'accordion-down 0.2s ease-out',
        'accordion-up': 'accordion-up 0.2s ease-out',
        'fade-in': 'fade-in 0.5s ease-out forwards',
        'fade-in-up': 'fade-in-up 0.6s ease-out forwards',
        'slide-in-right': 'slide-in-right 0.4s ease-out forwards',
        shimmer: 'shimmer 2s ease-in-out infinite',
        pulse: 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
        'gradient-flow': 'gradient-flow 3s ease-in-out infinite',
      },
      backgroundImage: {
        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
        'hero-pattern': 'url("/patterns/grid.svg")',
      },
    },
  },
  plugins: [require('tailwindcss-animate')],
};

export default config;



=== FILE: test-tone-shift.js ===

/**
 * Simple test script for the tone-shift API endpoint
 * Run with: node test-tone-shift.js
 */

const API_URL = 'http://localhost:3001/api/tone-shift';

// Test cases covering all four tones
const tests = [
  {
    name: 'Test 1: Professional Tone',
    body: {
      text: "Hey! Our sale ends soon so grab it while you can! It's seriously awesome!",
      tone: 'professional'
    }
  },
  {
    name: 'Test 2: Casual Tone',
    body: {
      text: 'We cordially invite you to attend our annual corporate symposium. Your presence would be greatly appreciated.',
      tone: 'casual'
    }
  },
  {
    name: 'Test 3: Urgent Tone',
    body: {
      text: 'Our new service is now available for your consideration at your earliest convenience.',
      tone: 'urgent'
    }
  },
  {
    name: 'Test 4: Friendly Tone',
    body: {
      text: 'Submit your application through our online portal. Processing times may vary.',
      tone: 'friendly'
    }
  },
  {
    name: 'Test 5: Error - Missing Text',
    body: {
      tone: 'professional'
    },
    expectError: true
  },
  {
    name: 'Test 6: Error - Invalid Tone',
    body: {
      text: 'Some copy here',
      tone: 'sarcastic'
    },
    expectError: true
  }
];

async function runTest(test) {
  console.log(`\n${'='.repeat(60)}`);
  console.log(`Running: ${test.name}`);
  console.log(`${'='.repeat(60)}`);
  console.log('Request body:', JSON.stringify(test.body, null, 2));
  
  try {
    const response = await fetch(API_URL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(test.body),
    });

    const data = await response.json();
    
    console.log(`\nStatus: ${response.status} ${response.statusText}`);
    
    if (test.expectError) {
      if (!response.ok) {
        console.log('‚úÖ Error test passed');
        console.log('Error response:', JSON.stringify(data, null, 2));
      } else {
        console.log('‚ùå Expected error but got success');
      }
    } else {
      if (response.ok) {
        console.log('‚úÖ Test passed');
        console.log(`\nOriginal (${data.originalLength} chars):`);
        console.log(test.body.text);
        console.log(`\nRewritten (${data.newLength} chars):`);
        console.log(data.rewrittenText);
        console.log(`\nLength change: ${((data.newLength - data.originalLength) / data.originalLength * 100).toFixed(1)}%`);
      } else {
        console.log('‚ùå Test failed');
        console.log('Error response:', JSON.stringify(data, null, 2));
      }
    }
  } catch (error) {
    console.log('‚ùå Request failed:', error.message);
  }
}

async function runAllTests() {
  console.log('üöÄ Starting Tone Shift API Tests');
  console.log(`Testing endpoint: ${API_URL}\n`);
  
  for (const test of tests) {
    await runTest(test);
    // Add a small delay between tests
    await new Promise(resolve => setTimeout(resolve, 1000));
  }
  
  console.log(`\n${'='.repeat(60)}`);
  console.log('All tests completed!');
  console.log(`${'='.repeat(60)}\n`);
}

// Run tests
runAllTests().catch(console.error);

